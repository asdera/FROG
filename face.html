<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script src="js/clmtrackr.js"></script>
    <script src="js/webcam.js"></script>
</head>
<body onload="start()">
    <video id="inputVideo" autoplay="true"></video>
    <canvas id="drawCanvas" width="400" height="300"></canvas>

    <script type="text/javascript">

        var videoInput = document.getElementById('inputVideo');

        var ctracker = new clm.tracker();

        var canvasInput = document.getElementById('drawCanvas');
        var cc = canvasInput.getContext('2d');

        ctracker.init();
        ctracker.start(videoInput);

        
        function drawLoop() {
            requestAnimationFrame(drawLoop);
            cc.clearRect(0, 0, canvasInput.width, canvasInput.height);
            ctracker.draw(canvasInput);
        }
        drawLoop();

        function positionLoop() {
             requestAnimationFrame(positionLoop);
             var positions = ctracker.getCurrentPosition();
             // positions = [[x_0, y_0], [x_1,y_1], ... ]
             // do something with the positions ...
        }

        positionLoop();

    </script>

</body>
</html>